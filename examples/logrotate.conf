# BigTent Log Rotation Configuration
#
# For native (non-Docker) deployments where BigTent logs are redirected to a file.
#
# Installation:
#   1. Copy to /etc/logrotate.d/bigtent
#   2. Redirect BigTent stderr to a log file in your systemd unit:
#        ExecStart=/usr/local/bin/bigtent ... 2>>/var/log/bigtent/bigtent.log
#      Or use systemd's journal (recommended) and skip this logrotate config.
#
# Note: If using systemd's journal (default), log rotation is handled by
# journald.conf (SystemMaxUse, MaxRetentionSec). This file is only needed
# when redirecting logs to a file.

/var/log/bigtent/*.log {
    daily
    rotate 14
    compress
    delaycompress
    missingok
    notifempty
    create 0640 bigtent bigtent
    sharedscripts
    postrotate
        # Send SIGUSR1 or just let the next write create the new file.
        # BigTent writes to stderr, so reopening is automatic after rotation.
        true
    endscript
}
